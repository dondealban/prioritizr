<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Add boundary penalties — add_boundary_penalties • prioritizr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Add boundary penalties — add_boundary_penalties" />
<meta property="og:description" content="Add penalties to a conservation planning problem to favor
solutions that have planning units clumped together into contiguous areas." />
<meta property="og:image" content="https://prioritizr.net/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-70466840-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-70466840-4');
</script>

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">prioritizr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">4.1.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/prioritizr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/gurobi_installation.html">Gurobi Installation Guide</a>
    </li>
    <li>
      <a href="../articles/publication_record.html">Publication Record</a>
    </li>
    <li>
      <a href="../articles/saltspring.html">Salt Spring Island Tutorial</a>
    </li>
    <li>
      <a href="../articles/tasmania.html">Tasmania Tutorial</a>
    </li>
    <li>
      <a href="../articles/zones.html">Management Zones</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/prioritizr/prioritizr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add boundary penalties</h1>
    <small class="dont-index">Source: <a href='https://github.com/prioritizr/prioritizr/blob/master/R/add_boundary_penalties.R'><code>R/add_boundary_penalties.R</code></a></small>
    <div class="hidden name"><code>add_boundary_penalties.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Add penalties to a conservation planning <code><a href='problem.html'>problem</a></code> to favor
solutions that have planning units clumped together into contiguous areas.</p>
    </div>

    <pre class="usage"><span class='fu'>add_boundary_penalties</span>(<span class='no'>x</span>, <span class='no'>penalty</span>, <span class='kw'>edge_factor</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/rep'>rep</a></span>(<span class='fl'>0.5</span>,
  <span class='fu'><a href='number_of_zones.html'>number_of_zones</a></span>(<span class='no'>x</span>)), <span class='kw'>zones</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/diag'>diag</a></span>(<span class='fu'><a href='number_of_zones.html'>number_of_zones</a></span>(<span class='no'>x</span>)), <span class='kw'>data</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p><code><a href='ConservationProblem-class.html'>ConservationProblem-class</a></code> object.</p></td>
    </tr>
    <tr>
      <th>penalty</th>
      <td><p><code>numeric</code> penalty that is used to scale the importance
of selecting planning units that are spatially clumped together compared
to the main problem objective (e.g. solution cost when the argument to
<code>x</code> has a minimum set objective set using
<code><a href='add_min_set_objective.html'>add_min_set_objective</a></code>). Higher <code>penalty</code> values
will return solutions with a higher degree of spatial clumping,
and smaller <code>penalty</code> values will return solutions with a smaller
degree of clumping. Note that negative <code>penalty</code> values will
return solutions that are more spread out. This parameter is equivalent to
the
<a href='http://marxan.net/downloads/uq_marxan_web_2/module2.html'>boundary length modifier (BLM)</a>
parameter in <a href='http://marxan.net'><em>Marxan</em></a>.</p></td>
    </tr>
    <tr>
      <th>edge_factor</th>
      <td><p><code>numeric</code> proportion to scale
planning unit edges (or borders) that do not have any neighboring planning
units. For example, an edge factor of <code>0.5</code> is commonly used for
planning units along the coast line. Note that this argument must have an
element for each zone in the argument to <code>x</code>.</p></td>
    </tr>
    <tr>
      <th>zones</th>
      <td><p><code>matrix</code> or <code>Matrix</code> object describing the
clumping scheme for different zones. Each row and column corresponds to a
different zone in the argument to <code>x</code>, and cell values indicate the
relative importance of clumping planning units that are allocated to
a pair of zones. Cell values along the diagonal of the matrix represent
the relative importance of clumping planning units that are allocated
to the same zone. Cell values must lay between 1 and -1, where negative
values favor solutions that spread out planning units. The default
argument to <code>zones</code> is an identity
matrix (i.e. a matrix with ones along the matrix diagonal and zeros
elsewhere), so that penalties are incurred when neighboring planning units
are not assigned to the same zone. <strong>Note that if the cells along
the matrix diagonal contain markedly lower values than cells found
elsewhere in the matrix, then the optimal solution may surround
planning units with planning units that are allocated to different zones.</strong></p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p><code>NULL</code>, <code>data.frame</code>, <code>matrix</code>, or <code>Matrix</code>
object containing the boundary data. The boundary values
correspond to the shared boundary length between different planning units
and the amount of exposed boundary length that each planning unit has
which is not shared with any other planning unit. Given a certain
<code>penalty</code> value, it is more desirable to select combinations of
planning units which do not expose larger boundaries that are shared
between different planning units. See the Details section for more
information.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code><a href='ConservationProblem-class.html'>ConservationProblem-class</a></code> object with the penalties
 added to it.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function adds penalties to a conservation planning problem
  to penalize fragmented solutions. It was is inspired by Ball <em>et al.</em>
  (2009) and Beyer <em>et al.</em> (2016). The <code>penalty</code> argument is
  equivalent to the boundary length modifier (<code>BLM</code>) used in
  <a href='http://marxan.net'><em>Marxan</em></a>. Note that this function can only
  be used to represent symmetric relationships between planning units. If
  asymmetric relationships are required, use the
  <code><a href='add_connectivity_penalties.html'>add_connectivity_penalties</a></code> function.</p>
<p>The argument to <code>data</code> can be specified in several different ways:</p>
<p></p><dl class='dl-horizontal'>
    <dt><code>NULL</code></dt><dd><p>the boundary data are automatically calculated
    using the <code><a href='boundary_matrix.html'>boundary_matrix</a></code> function. This argument is the
    default. Note that the boundary data must be manually defined
    using one of the other formats below when the planning unit data
    in the argument to <code>x</code> is not spatially referenced (e.g.
    in <code>data.frame</code> or <code>numeric</code> format).</p></dd>
    <dt><code>matrix</code>, <code>Matrix</code></dt><dd><p>where rows and columns represent
    different planning units and the value of each cell represents the
    amount of shared boundary length between two different planning units.
    Cells that occur along the matrix diagonal represent the amount of
    exposed boundary associated with each planning unit that has
    no neighbor (e.g. these value might pertain the length of coastline
    in a planning unit).</p></dd>
    <dt><code>data.frame</code></dt><dd><p>containing the columns <code>"id1"</code>,
    <code>"id2"</code>, and <code>"boundary"</code>. The values in the column
    <code>"boundary"</code> show the total amount of shared boundary between the
    two planning units indicated the columns <code>"id1"</code> and <code>"id2"</code>.
    This format follows the the standard <em>Marxan</em> input format. Note
    that this function requires symmetric boundary data, and so the
    argument to <code>data</code> cannot have the columns <code>"zone1"</code> and
    code"zone2" to specify different amounts of shared boundary lengths
    for different zones. Instead, when dealing with problems with multiple
    zones, the argument to <code>zones</code> should be used to control the
    relative importance of spatially clumping planning units together when
    they are allocated to different zones.</p></dd>
    </dl>
    <p>The boundary penalties are calculated using the following equations. Let
  \(I\) represent the set of planning units
  (indexed by \(i\) or \(j\)), \(Z\) represent
  the set of management zones (indexed by \(z\) or \(y\)), and
  \(X_{iz}\) represent the decision
  variable for planning unit \(i\) for in zone \(z\) (e.g. with binary
  values one indicating if planning unit is allocated or not). Also, let
  \(p\) represent the argument to <code>penalty</code>, \(E\) represent the
  argument to <code>edge_factor</code>, \(B\) represent the matrix argument to
  <code>data</code> (e.g. generated using <code><a href='boundary_matrix.html'>boundary_matrix</a></code>), and
  \(W\) represent the matrix argument to <code>zones</code>.</p>
<p>$$
  \sum_{i}^{I} \sum_{j}^{I} \sum_{z}^{Z} (\mathit{ifelse}(i == j, E_z, 1)
  \times p \times W_{zz} B_{ij}) + \sum_{i}^{I} \sum_{j}^{I} \sum_{z}^{Z}
  \sum_{y}^{Z} (-2 \times p \times X_{iz} \times X_{jy} \times W_{zy} \times
  B_{ij})$$</p>
<p>Note that when the problem objective is to maximize some measure of
 benefit and not minimize some measure of cost, the term \(p\) is
 replaced with \(-p\).</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Ball IR, Possingham HP, and Watts M (2009) <em>Marxan and relatives:
Software for spatial conservation prioritisation</em> in Spatial conservation
prioritisation: Quantitative methods and computational tools. Eds Moilanen
A, Wilson KA, and Possingham HP. Oxford University Press, Oxford, UK.</p>
<p>Beyer HL, Dujardin Y, Watts ME, and Possingham HP (2016) Solving
conservation planning problems with integer linear programming.
<em>Ecological Modelling</em>, 228: 14--22.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='penalties.html'>penalties</a></code>.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># set seed for reproducibility</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/Random'>set.seed</a></span>(<span class='fl'>500</span>)

<span class='co'># load data</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/data'>data</a></span>(<span class='no'>sim_pu_raster</span>, <span class='no'>sim_features</span>, <span class='no'>sim_pu_zones_stack</span>, <span class='no'>sim_features_zones</span>)

<span class='co'># create minimal problem</span>
<span class='no'>p1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='problem.html'>problem</a></span>(<span class='no'>sim_pu_raster</span>, <span class='no'>sim_features</span>) <span class='kw'>%&gt;%</span>
      <span class='fu'><a href='add_min_set_objective.html'>add_min_set_objective</a></span>() <span class='kw'>%&gt;%</span>
      <span class='fu'><a href='add_relative_targets.html'>add_relative_targets</a></span>(<span class='fl'>0.2</span>) <span class='kw'>%&gt;%</span>
      <span class='fu'><a href='add_binary_decisions.html'>add_binary_decisions</a></span>() <span class='kw'>%&gt;%</span>
      <span class='fu'><a href='add_default_solver.html'>add_default_solver</a></span>()

<span class='co'># create problem with low boundary penalties</span>
<span class='no'>p2</span> <span class='kw'>&lt;-</span> <span class='no'>p1</span> <span class='kw'>%&gt;%</span> <span class='fu'>add_boundary_penalties</span>(<span class='fl'>50</span>, <span class='fl'>1</span>)

<span class='co'># create problem with high boundary penalties but outer edges receive</span>
<span class='co'># half the penalty as inner edges</span>
<span class='no'>p3</span> <span class='kw'>&lt;-</span> <span class='no'>p1</span> <span class='kw'>%&gt;%</span> <span class='fu'>add_boundary_penalties</span>(<span class='fl'>500</span>, <span class='fl'>0.5</span>)

<span class='co'># create a problem using precomputed boundary data</span>
<span class='no'>bmat</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='boundary_matrix.html'>boundary_matrix</a></span>(<span class='no'>sim_pu_raster</span>)
<span class='no'>p4</span> <span class='kw'>&lt;-</span> <span class='no'>p1</span> <span class='kw'>%&gt;%</span> <span class='fu'>add_boundary_penalties</span>(<span class='fl'>50</span>, <span class='fl'>1</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>bmat</span>)</div><div class='input'><span class='co'># solve problems</span>
<span class='no'>s</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/stack'>stack</a></span>(<span class='fu'><a href='solve.html'>solve</a></span>(<span class='no'>p1</span>), <span class='fu'><a href='solve.html'>solve</a></span>(<span class='no'>p2</span>), <span class='fu'><a href='solve.html'>solve</a></span>(<span class='no'>p3</span>), <span class='fu'><a href='solve.html'>solve</a></span>(<span class='no'>p4</span>))</div><div class='output co'>#&gt; Optimize a model with 5 rows, 90 columns and 450 nonzeros
#&gt; Variable types: 0 continuous, 90 integer (90 binary)
#&gt; Coefficient statistics:
#&gt;   Matrix range     [2e-01, 9e-01]
#&gt;   Objective range  [2e+02, 2e+02]
#&gt;   Bounds range     [1e+00, 1e+00]
#&gt;   RHS range        [6e+00, 2e+01]
#&gt; Found heuristic solution: objective 4544.4850483
#&gt; Presolve time: 0.00s
#&gt; Presolved: 5 rows, 90 columns, 450 nonzeros
#&gt; Variable types: 0 continuous, 90 integer (90 binary)
#&gt; Presolved: 5 rows, 90 columns, 450 nonzeros
#&gt; 
#&gt; 
#&gt; Root relaxation: objective 3.899056e+03, 12 iterations, 0.00 seconds
#&gt; 
#&gt;     Nodes    |    Current Node    |     Objective Bounds      |     Work
#&gt;  Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time
#&gt; 
#&gt;      0     0 3899.05601    0    4 4544.48505 3899.05601  14.2%     -    0s
#&gt; H    0     0                    3994.8945897 3899.05601  2.40%     -    0s
#&gt; 
#&gt; Explored 1 nodes (12 simplex iterations) in 0.00 seconds
#&gt; Thread count was 1 (of 4 available processors)
#&gt; 
#&gt; Solution count 2: 3994.89 4544.49 
#&gt; 
#&gt; Optimal solution found (tolerance 1.00e-01)
#&gt; Best objective 3.994894589653e+03, best bound 3.899056011987e+03, gap 2.3990%
#&gt; Optimize a model with 293 rows, 234 columns and 1026 nonzeros
#&gt; Variable types: 0 continuous, 234 integer (234 binary)
#&gt; Coefficient statistics:
#&gt;   Matrix range     [2e-01, 1e+00]
#&gt;   Objective range  [1e+01, 2e+02]
#&gt;   Bounds range     [1e+00, 1e+00]
#&gt;   RHS range        [6e+00, 2e+01]
#&gt; Found heuristic solution: objective 18847.196992
#&gt; Found heuristic solution: objective 4724.4850483
#&gt; Presolve time: 0.00s
#&gt; Presolved: 293 rows, 234 columns, 1026 nonzeros
#&gt; Variable types: 0 continuous, 234 integer (234 binary)
#&gt; Presolved: 293 rows, 234 columns, 1026 nonzeros
#&gt; 
#&gt; 
#&gt; Root relaxation: objective 4.064320e+03, 186 iterations, 0.00 seconds
#&gt; 
#&gt;     Nodes    |    Current Node    |     Objective Bounds      |     Work
#&gt;  Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time
#&gt; 
#&gt;      0     0 4064.31993    0   52 4724.48505 4064.31993  14.0%     -    0s
#&gt; H    0     0                    4196.4791919 4064.31993  3.15%     -    0s
#&gt; 
#&gt; Explored 1 nodes (186 simplex iterations) in 0.01 seconds
#&gt; Thread count was 1 (of 4 available processors)
#&gt; 
#&gt; Solution count 3: 4196.48 4724.49 18847.2 
#&gt; 
#&gt; Optimal solution found (tolerance 1.00e-01)
#&gt; Best objective 4.196479191930e+03, best bound 4.064319933597e+03, gap 3.1493%
#&gt; Optimize a model with 293 rows, 234 columns and 1026 nonzeros
#&gt; Variable types: 0 continuous, 234 integer (234 binary)
#&gt; Coefficient statistics:
#&gt;   Matrix range     [2e-01, 1e+00]
#&gt;   Objective range  [1e+02, 4e+02]
#&gt;   Bounds range     [1e+00, 1e+00]
#&gt;   RHS range        [6e+00, 2e+01]
#&gt; Found heuristic solution: objective 20287.196992
#&gt; Found heuristic solution: objective 5594.4850483
#&gt; Presolve time: 0.00s
#&gt; Presolved: 293 rows, 234 columns, 1026 nonzeros
#&gt; Variable types: 0 continuous, 234 integer (234 binary)
#&gt; Presolved: 293 rows, 234 columns, 1026 nonzeros
#&gt; 
#&gt; 
#&gt; Root relaxation: objective 4.531725e+03, 219 iterations, 0.00 seconds
#&gt; 
#&gt;     Nodes    |    Current Node    |     Objective Bounds      |     Work
#&gt;  Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time
#&gt; 
#&gt;      0     0 4531.72483    0  234 5594.48505 4531.72483  19.0%     -    0s
#&gt;      0     0 4604.44812    0  232 5594.48505 4604.44812  17.7%     -    0s
#&gt;      0     0 4664.43086    0  226 5594.48505 4664.43086  16.6%     -    0s
#&gt;      0     0 4667.41801    0  229 5594.48505 4667.41801  16.6%     -    0s
#&gt;      0     0 4669.60093    0  229 5594.48505 4669.60093  16.5%     -    0s
#&gt;      0     0 4685.75922    0  225 5594.48505 4685.75922  16.2%     -    0s
#&gt;      0     0 4694.51190    0  204 5594.48505 4694.51190  16.1%     -    0s
#&gt;      0     0 4694.56564    0  204 5594.48505 4694.56564  16.1%     -    0s
#&gt;      0     0 4694.56564    0  204 5594.48505 4694.56564  16.1%     -    0s
#&gt; H    0     0                    5330.7252629 4694.56564  11.9%     -    0s
#&gt; H    0     0                    5175.1807047 4694.56564  9.29%     -    0s
#&gt; 
#&gt; Cutting planes:
#&gt;   Gomory: 5
#&gt; 
#&gt; Explored 1 nodes (456 simplex iterations) in 0.12 seconds
#&gt; Thread count was 1 (of 4 available processors)
#&gt; 
#&gt; Solution count 4: 5175.18 5330.73 5594.49 20287.2 
#&gt; 
#&gt; Optimal solution found (tolerance 1.00e-01)
#&gt; Best objective 5.175180704712e+03, best bound 4.694565636923e+03, gap 9.2869%
#&gt; Optimize a model with 293 rows, 234 columns and 1026 nonzeros
#&gt; Variable types: 0 continuous, 234 integer (234 binary)
#&gt; Coefficient statistics:
#&gt;   Matrix range     [2e-01, 1e+00]
#&gt;   Objective range  [1e+01, 2e+02]
#&gt;   Bounds range     [1e+00, 1e+00]
#&gt;   RHS range        [6e+00, 2e+01]
#&gt; Found heuristic solution: objective 18847.196992
#&gt; Found heuristic solution: objective 4724.4850483
#&gt; Presolve time: 0.00s
#&gt; Presolved: 293 rows, 234 columns, 1026 nonzeros
#&gt; Variable types: 0 continuous, 234 integer (234 binary)
#&gt; Presolved: 293 rows, 234 columns, 1026 nonzeros
#&gt; 
#&gt; 
#&gt; Root relaxation: objective 4.064320e+03, 186 iterations, 0.00 seconds
#&gt; 
#&gt;     Nodes    |    Current Node    |     Objective Bounds      |     Work
#&gt;  Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time
#&gt; 
#&gt;      0     0 4064.31993    0   52 4724.48505 4064.31993  14.0%     -    0s
#&gt; H    0     0                    4196.4791919 4064.31993  3.15%     -    0s
#&gt; 
#&gt; Explored 1 nodes (186 simplex iterations) in 0.01 seconds
#&gt; Thread count was 1 (of 4 available processors)
#&gt; 
#&gt; Solution count 3: 4196.48 4724.49 18847.2 
#&gt; 
#&gt; Optimal solution found (tolerance 1.00e-01)
#&gt; Best objective 4.196479191930e+03, best bound 4.064319933597e+03, gap 3.1493%</div><div class='input'>
<span class='co'># plot solutions</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='no'>s</span>, <span class='kw'>main</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"basic solution"</span>, <span class='st'>"small penalties"</span>, <span class='st'>"high penalties"</span>,
                 <span class='st'>"precomputed data"</span>), <span class='kw'>axes</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>box</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='img'><img src='add_boundary_penalties-1.png' alt='' width='700' height='433' /></div><div class='input'><span class='co'># create minimal problem with multiple zones and limit the run-time for</span>
<span class='co'># solver to 10 seconds so this example doesn't take too long</span>
<span class='no'>p5</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='problem.html'>problem</a></span>(<span class='no'>sim_pu_zones_stack</span>, <span class='no'>sim_features_zones</span>) <span class='kw'>%&gt;%</span>
      <span class='fu'><a href='add_min_set_objective.html'>add_min_set_objective</a></span>() <span class='kw'>%&gt;%</span>
      <span class='fu'><a href='add_relative_targets.html'>add_relative_targets</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/matrix'>matrix</a></span>(<span class='fl'>0.2</span>, <span class='kw'>nrow</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>ncol</span> <span class='kw'>=</span> <span class='fl'>3</span>)) <span class='kw'>%&gt;%</span>
      <span class='fu'><a href='add_binary_decisions.html'>add_binary_decisions</a></span>() <span class='kw'>%&gt;%</span>
      <span class='fu'><a href='add_default_solver.html'>add_default_solver</a></span>(<span class='kw'>time_limit</span> <span class='kw'>=</span> <span class='fl'>10</span>)

<span class='co'># create zone matrix which favors clumping planning units that are</span>
<span class='co'># allocated to the same zone together - note that this is the default</span>
<span class='no'>zm6</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/diag'>diag</a></span>(<span class='fl'>3</span>)
<span class='fu'><a href='print.html'>print</a></span>(<span class='no'>zm6</span>)</div><div class='output co'>#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    0    0
#&gt; [2,]    0    1    0
#&gt; [3,]    0    0    1</div><div class='input'>
<span class='co'># create problem with the zone matrix and low penalties</span>
<span class='no'>p6</span> <span class='kw'>&lt;-</span> <span class='no'>p5</span> <span class='kw'>%&gt;%</span> <span class='fu'>add_boundary_penalties</span>(<span class='fl'>50</span>, <span class='kw'>zone</span> <span class='kw'>=</span> <span class='no'>zm6</span>)

<span class='co'># create another problem with the same zone matrix and higher penalties</span>
<span class='no'>p7</span> <span class='kw'>&lt;-</span> <span class='no'>p5</span> <span class='kw'>%&gt;%</span> <span class='fu'>add_boundary_penalties</span>(<span class='fl'>500</span>, <span class='kw'>zone</span> <span class='kw'>=</span> <span class='no'>zm6</span>)

<span class='co'># create zone matrix which favors clumping units that are allocated to</span>
<span class='co'># different zones together</span>
<span class='no'>zm8</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/matrix'>matrix</a></span>(<span class='fl'>1</span>, <span class='kw'>ncol</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>nrow</span> <span class='kw'>=</span> <span class='fl'>3</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/diag'>diag</a></span>(<span class='no'>zm8</span>) <span class='kw'>&lt;-</span> <span class='fl'>0</span>
<span class='fu'><a href='print.html'>print</a></span>(<span class='no'>zm8</span>)</div><div class='output co'>#&gt;      [,1] [,2] [,3]
#&gt; [1,]    0    1    1
#&gt; [2,]    1    0    1
#&gt; [3,]    1    1    0</div><div class='input'>
<span class='co'># create problem with the zone matrix</span>
<span class='no'>p8</span> <span class='kw'>&lt;-</span> <span class='no'>p5</span> <span class='kw'>%&gt;%</span> <span class='fu'>add_boundary_penalties</span>(<span class='fl'>500</span>, <span class='kw'>zone</span> <span class='kw'>=</span> <span class='no'>zm8</span>)

<span class='co'># create zone matrix which strongly favors clumping units</span>
<span class='co'># that are allocated to the same zone together. It will also prefer</span>
<span class='co'># clumping planning units in zones 1 and 2 together over having</span>
<span class='co'># these planning units with no neighbors in the solution</span>
<span class='no'>zm9</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/diag'>diag</a></span>(<span class='fl'>3</span>)
<span class='no'>zm9</span>[<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/lower.tri'>upper.tri</a></span>(<span class='no'>zm9</span>)] <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0.3</span>, <span class='fl'>0</span>, <span class='fl'>0</span>)
<span class='no'>zm9</span>[<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/lower.tri'>lower.tri</a></span>(<span class='no'>zm9</span>)] <span class='kw'>&lt;-</span> <span class='no'>zm9</span>[<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/lower.tri'>upper.tri</a></span>(<span class='no'>zm9</span>)]
<span class='fu'><a href='print.html'>print</a></span>(<span class='no'>zm9</span>)</div><div class='output co'>#&gt;      [,1] [,2] [,3]
#&gt; [1,]  1.0  0.3    0
#&gt; [2,]  0.3  1.0    0
#&gt; [3,]  0.0  0.0    1</div><div class='input'>
<span class='co'># create problem with the zone matrix</span>
<span class='no'>p9</span> <span class='kw'>&lt;-</span> <span class='no'>p5</span> <span class='kw'>%&gt;%</span> <span class='fu'>add_boundary_penalties</span>(<span class='fl'>500</span>, <span class='kw'>zone</span> <span class='kw'>=</span> <span class='no'>zm9</span>)

<span class='co'># create zone matrix which favors clumping planning units in zones 1 and 2</span>
<span class='co'># together, and favors planning units in zone 3 being spread out</span>
<span class='co'># (i.e. negative clumping)</span>
<span class='no'>zm10</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/diag'>diag</a></span>(<span class='fl'>3</span>)
<span class='no'>zm10</span>[<span class='fl'>3</span>, <span class='fl'>3</span>] <span class='kw'>&lt;-</span> -<span class='fl'>1</span>
<span class='fu'><a href='print.html'>print</a></span>(<span class='no'>zm10</span>)</div><div class='output co'>#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    0    0
#&gt; [2,]    0    1    0
#&gt; [3,]    0    0   -1</div><div class='input'>
<span class='co'># create problem with the zone matrix</span>
<span class='no'>p10</span> <span class='kw'>&lt;-</span> <span class='no'>p5</span> <span class='kw'>%&gt;%</span> <span class='fu'>add_boundary_penalties</span>(<span class='fl'>500</span>, <span class='kw'>zone</span> <span class='kw'>=</span> <span class='no'>zm10</span>)</div><div class='input'><span class='co'># solve problems</span>
<span class='no'>s2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/stack'>stack</a></span>(<span class='fu'><a href='category_layer.html'>category_layer</a></span>(<span class='fu'><a href='solve.html'>solve</a></span>(<span class='no'>p5</span>)), <span class='fu'><a href='category_layer.html'>category_layer</a></span>(<span class='fu'><a href='solve.html'>solve</a></span>(<span class='no'>p6</span>)),
            <span class='fu'><a href='category_layer.html'>category_layer</a></span>(<span class='fu'><a href='solve.html'>solve</a></span>(<span class='no'>p7</span>)), <span class='fu'><a href='category_layer.html'>category_layer</a></span>(<span class='fu'><a href='solve.html'>solve</a></span>(<span class='no'>p8</span>)),
            <span class='fu'><a href='category_layer.html'>category_layer</a></span>(<span class='fu'><a href='solve.html'>solve</a></span>(<span class='no'>p9</span>)), <span class='fu'><a href='category_layer.html'>category_layer</a></span>(<span class='fu'><a href='solve.html'>solve</a></span>(<span class='no'>p10</span>)))</div><div class='output co'>#&gt; Optimize a model with 105 rows, 270 columns and 1620 nonzeros
#&gt; Variable types: 0 continuous, 270 integer (270 binary)
#&gt; Coefficient statistics:
#&gt;   Matrix range     [2e-01, 1e+00]
#&gt;   Objective range  [2e+02, 2e+02]
#&gt;   Bounds range     [1e+00, 1e+00]
#&gt;   RHS range        [1e+00, 2e+01]
#&gt; Found heuristic solution: objective 13103.242827
#&gt; Presolve time: 0.00s
#&gt; Presolved: 105 rows, 270 columns, 1620 nonzeros
#&gt; Variable types: 0 continuous, 270 integer (270 binary)
#&gt; Presolved: 105 rows, 270 columns, 1620 nonzeros
#&gt; 
#&gt; 
#&gt; Root relaxation: objective 1.199145e+04, 211 iterations, 0.00 seconds
#&gt; 
#&gt;     Nodes    |    Current Node    |     Objective Bounds      |     Work
#&gt;  Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time
#&gt; 
#&gt;      0     0 11991.4483    0   18 13103.2428 11991.4483  8.48%     -    0s
#&gt; 
#&gt; Explored 1 nodes (211 simplex iterations) in 0.01 seconds
#&gt; Thread count was 1 (of 4 available processors)
#&gt; 
#&gt; Solution count 1: 13103.2 
#&gt; 
#&gt; Optimal solution found (tolerance 1.00e-01)
#&gt; Best objective 1.310324282660e+04, best bound 1.199144828715e+04, gap 8.4849%
#&gt; Optimize a model with 975 rows, 705 columns and 3360 nonzeros
#&gt; Variable types: 0 continuous, 705 integer (705 binary)
#&gt; Coefficient statistics:
#&gt;   Matrix range     [2e-01, 1e+00]
#&gt;   Objective range  [1e+01, 2e+02]
#&gt;   Bounds range     [1e+00, 1e+00]
#&gt;   RHS range        [1e+00, 2e+01]
#&gt; Found heuristic solution: objective 14008.242827
#&gt; Presolve time: 0.01s
#&gt; Presolved: 975 rows, 705 columns, 3360 nonzeros
#&gt; Variable types: 0 continuous, 705 integer (705 binary)
#&gt; Presolved: 975 rows, 705 columns, 3360 nonzeros
#&gt; 
#&gt; 
#&gt; Root relaxation: objective 1.228259e+04, 618 iterations, 0.02 seconds
#&gt; 
#&gt;     Nodes    |    Current Node    |     Objective Bounds      |     Work
#&gt;  Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time
#&gt; 
#&gt;      0     0 12282.5861    0  310 14008.2428 12282.5861  12.3%     -    0s
#&gt; H    0     0                    13450.185104 12282.5861  8.68%     -    0s
#&gt; 
#&gt; Explored 1 nodes (618 simplex iterations) in 0.04 seconds
#&gt; Thread count was 1 (of 4 available processors)
#&gt; 
#&gt; Solution count 2: 13450.2 14008.2 
#&gt; 
#&gt; Optimal solution found (tolerance 1.00e-01)
#&gt; Best objective 1.345018510397e+04, best bound 1.228258611787e+04, gap 8.6809%
#&gt; Optimize a model with 975 rows, 705 columns and 3360 nonzeros
#&gt; Variable types: 0 continuous, 705 integer (705 binary)
#&gt; Coefficient statistics:
#&gt;   Matrix range     [2e-01, 1e+00]
#&gt;   Objective range  [1e+02, 4e+02]
#&gt;   Bounds range     [1e+00, 1e+00]
#&gt;   RHS range        [1e+00, 2e+01]
#&gt; Found heuristic solution: objective 22153.242827
#&gt; Presolve time: 0.01s
#&gt; Presolved: 975 rows, 705 columns, 3360 nonzeros
#&gt; Variable types: 0 continuous, 705 integer (705 binary)
#&gt; Presolved: 975 rows, 705 columns, 3360 nonzeros
#&gt; 
#&gt; 
#&gt; Root relaxation: objective 1.362015e+04, 713 iterations, 0.03 seconds
#&gt; 
#&gt;     Nodes    |    Current Node    |     Objective Bounds      |     Work
#&gt;  Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time
#&gt; 
#&gt;      0     0 13620.1452    0  655 22153.2428 13620.1452  38.5%     -    0s
#&gt; H    0     0                    20128.117363 13620.1452  32.3%     -    0s
#&gt; H    0     0                    19796.492982 13620.1452  31.2%     -    0s
#&gt;      0     0 13772.8695    0  664 19796.4930 13772.8695  30.4%     -    0s
#&gt; H    0     0                    19578.669240 13772.8695  29.7%     -    0s
#&gt;      0     0 13775.6927    0  659 19578.6692 13775.6927  29.6%     -    0s
#&gt;      0     0 13798.1920    0  611 19578.6692 13798.1920  29.5%     -    0s
#&gt; H    0     0                    19552.871081 13798.1920  29.4%     -    0s
#&gt;      0     0 13823.3790    0  611 19552.8711 13823.3790  29.3%     -    0s
#&gt;      0     0 13823.4016    0  616 19552.8711 13823.4016  29.3%     -    0s
#&gt;      0     0 13834.6267    0  640 19552.8711 13834.6267  29.2%     -    0s
#&gt; H    0     0                    19360.827217 13834.6267  28.5%     -    0s
#&gt;      0     0 13867.3124    0  663 19360.8272 13867.3124  28.4%     -    0s
#&gt;      0     0 13868.1508    0  658 19360.8272 13868.1508  28.4%     -    0s
#&gt;      0     0 13868.1508    0  658 19360.8272 13868.1508  28.4%     -    0s
#&gt; H    0     0                    16529.592722 13868.1508  16.1%     -    0s
#&gt; H    0     0                    15922.309412 13868.1508  12.9%     -    1s
#&gt;      0     2 13869.2667    0  658 15922.3094 13869.2667  12.9%     -    1s
#&gt;    527   430 14213.7844    7  610 15922.3094 14112.4138  11.4%  29.6    5s
#&gt; H  527   408                    15780.713406 14112.4138  10.6%  29.6    5s
#&gt; H  527   387                    15656.048982 14112.4138  9.86%  29.6    5s
#&gt; 
#&gt; Cutting planes:
#&gt;   Gomory: 18
#&gt; 
#&gt; Explored 527 nodes (18491 simplex iterations) in 5.30 seconds
#&gt; Thread count was 1 (of 4 available processors)
#&gt; 
#&gt; Solution count 10: 15656 15780.7 15922.3 ... 22153.2
#&gt; 
#&gt; Optimal solution found (tolerance 1.00e-01)
#&gt; Best objective 1.565604898208e+04, best bound 1.411241378650e+04, gap 9.8597%
#&gt; Optimize a model with 1845 rows, 1140 columns and 5100 nonzeros
#&gt; Variable types: 0 continuous, 1140 integer (1140 binary)
#&gt; Coefficient statistics:
#&gt;   Matrix range     [2e-01, 1e+00]
#&gt;   Objective range  [1e+02, 2e+02]
#&gt;   Bounds range     [1e+00, 1e+00]
#&gt;   RHS range        [1e+00, 2e+01]
#&gt; Found heuristic solution: objective 8303.2428266
#&gt; Presolve time: 0.02s
#&gt; Presolved: 1845 rows, 1140 columns, 6840 nonzeros
#&gt; Variable types: 0 continuous, 1140 integer (1140 binary)
#&gt; Presolve removed 870 rows and 0 columns
#&gt; Presolved: 975 rows, 1140 columns, 4230 nonzeros
#&gt; 
#&gt; 
#&gt; Root relaxation: objective 2.576990e+03, 1905 iterations, 0.12 seconds
#&gt; 
#&gt;     Nodes    |    Current Node    |     Objective Bounds      |     Work
#&gt;  Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time
#&gt; 
#&gt;      0     0 2576.99025    0  235 8303.24283 2576.99025  69.0%     -    0s
#&gt; H    0     0                    2881.3718971 2576.99025  10.6%     -    0s
#&gt; H    0     0                    2794.5621583 2576.99025  7.79%     -    0s
#&gt; 
#&gt; Explored 1 nodes (2016 simplex iterations) in 0.25 seconds
#&gt; Thread count was 1 (of 4 available processors)
#&gt; 
#&gt; Solution count 3: 2794.56 2881.37 8303.24 
#&gt; 
#&gt; Optimal solution found (tolerance 1.00e-01)
#&gt; Best objective 2.794562158270e+03, best bound 2.576990253978e+03, gap 7.7855%
#&gt; Optimize a model with 1555 rows, 995 columns and 4520 nonzeros
#&gt; Variable types: 0 continuous, 995 integer (995 binary)
#&gt; Coefficient statistics:
#&gt;   Matrix range     [2e-01, 1e+00]
#&gt;   Objective range  [3e+01, 4e+02]
#&gt;   Bounds range     [1e+00, 1e+00]
#&gt;   RHS range        [1e+00, 2e+01]
#&gt; Found heuristic solution: objective 21613.242827
#&gt; Presolve time: 0.03s
#&gt; Presolved: 1555 rows, 995 columns, 5680 nonzeros
#&gt; Variable types: 0 continuous, 995 integer (995 binary)
#&gt; Presolve removed 580 rows and 0 columns
#&gt; Presolved: 975 rows, 995 columns, 3940 nonzeros
#&gt; 
#&gt; 
#&gt; Root relaxation: objective 1.362015e+04, 714 iterations, 0.05 seconds
#&gt; 
#&gt;     Nodes    |    Current Node    |     Objective Bounds      |     Work
#&gt;  Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time
#&gt; 
#&gt;      0     0 13620.1452    0  655 21613.2428 13620.1452  37.0%     -    0s
#&gt; H    0     0                    20845.425726 13620.1452  34.7%     -    0s
#&gt; H    0     0                    19467.036465 13620.1452  30.0%     -    0s
#&gt;      0     0 13728.2763    0  637 19467.0365 13728.2763  29.5%     -    0s
#&gt; H    0     0                    18893.082095 13728.2763  27.3%     -    0s
#&gt;      0     0 13729.6980    0  642 18893.0821 13729.6980  27.3%     -    0s
#&gt;      0     0 13730.2911    0  642 18893.0821 13730.2911  27.3%     -    0s
#&gt;      0     0 13790.5901    0  627 18893.0821 13790.5901  27.0%     -    0s
#&gt;      0     0 13801.0123    0  598 18893.0821 13801.0123  27.0%     -    0s
#&gt;      0     0 13822.5175    0  551 18893.0821 13822.5175  26.8%     -    0s
#&gt; H    0     0                    18751.740399 13822.5175  26.3%     -    0s
#&gt;      0     0 13826.9360    0  563 18751.7404 13826.9360  26.3%     -    0s
#&gt;      0     0 13826.9360    0  563 18751.7404 13826.9360  26.3%     -    0s
#&gt; H    0     0                    17431.702421 13826.9360  20.7%     -    0s
#&gt; H    0     0                    17347.291320 13826.9360  20.3%     -    0s
#&gt; H    0     0                    16456.518756 13826.9360  16.0%     -    1s
#&gt;      0     2 13827.3898    0  563 16456.5188 13827.3898  16.0%     -    1s
#&gt; H  105   103                    16310.857489 13832.3864  15.2%  30.0    1s
#&gt; H  510   446                    16294.105380 13988.8212  14.1%  29.6    2s
#&gt; H  513   426                    15987.920808 13988.8212  12.5%  29.4    2s
#&gt; H  516   406                    15894.561955 13988.8212  12.0%  29.3    3s
#&gt; H  523   390                    15417.906443 13988.8212  9.27%  28.9    5s
#&gt; 
#&gt; Cutting planes:
#&gt;   Gomory: 17
#&gt; 
#&gt; Explored 523 nodes (17825 simplex iterations) in 5.31 seconds
#&gt; Thread count was 1 (of 4 available processors)
#&gt; 
#&gt; Solution count 10: 15417.9 15894.6 15987.9 ... 18893.1
#&gt; 
#&gt; Optimal solution found (tolerance 1.00e-01)
#&gt; Best objective 1.541790644258e+04, best bound 1.398882115772e+04, gap 9.2690%
#&gt; Optimize a model with 1120 rows, 705 columns and 3795 nonzeros
#&gt; Variable types: 0 continuous, 705 integer (705 binary)
#&gt; Coefficient statistics:
#&gt;   Matrix range     [2e-01, 1e+00]
#&gt;   Objective range  [1e+01, 4e+02]
#&gt;   Bounds range     [1e+00, 1e+00]
#&gt;   RHS range        [1e+00, 2e+01]
#&gt; Found heuristic solution: objective 15601.521733
#&gt; Presolve time: 0.01s
#&gt; Presolved: 1120 rows, 705 columns, 3940 nonzeros
#&gt; Variable types: 0 continuous, 705 integer (705 binary)
#&gt; Presolved: 1120 rows, 705 columns, 3940 nonzeros
#&gt; 
#&gt; 
#&gt; Root relaxation: objective 9.328641e+03, 523 iterations, 0.02 seconds
#&gt; 
#&gt;     Nodes    |    Current Node    |     Objective Bounds      |     Work
#&gt;  Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time
#&gt; 
#&gt;      0     0 9328.64105    0  481 15601.5217 9328.64105  40.2%     -    0s
#&gt; H    0     0                    14404.516545 9328.64105  35.2%     -    0s
#&gt;      0     0 9376.71069    0  435 14404.5165 9376.71069  34.9%     -    0s
#&gt; H    0     0                    13853.093457 9376.71069  32.3%     -    0s
#&gt; H    0     0                    13263.346834 9376.71069  29.3%     -    0s
#&gt;      0     0 9388.30013    0  435 13263.3468 9388.30013  29.2%     -    0s
#&gt;      0     0 9433.68734    0  467 13263.3468 9433.68734  28.9%     -    0s
#&gt; H    0     0                    12771.763887 9433.68734  26.1%     -    0s
#&gt;      0     0 9440.54053    0  473 12771.7639 9440.54053  26.1%     -    0s
#&gt;      0     0 9440.69940    0  473 12771.7639 9440.69940  26.1%     -    0s
#&gt;      0     0 9467.62898    0  467 12771.7639 9467.62898  25.9%     -    0s
#&gt; H    0     0                    12676.412706 9467.62898  25.3%     -    0s
#&gt;      0     0 9473.57609    0  476 12676.4127 9473.57609  25.3%     -    0s
#&gt;      0     0 9478.31995    0  478 12676.4127 9478.31995  25.2%     -    0s
#&gt;      0     0 9479.01242    0  477 12676.4127 9479.01242  25.2%     -    0s
#&gt;      0     0 9481.17466    0  480 12676.4127 9481.17466  25.2%     -    0s
#&gt;      0     0 9484.66372    0  479 12676.4127 9484.66372  25.2%     -    0s
#&gt;      0     0 9485.82314    0  478 12676.4127 9485.82314  25.2%     -    0s
#&gt;      0     0 9486.99589    0  479 12676.4127 9486.99589  25.2%     -    0s
#&gt;      0     0 9488.66317    0  465 12676.4127 9488.66317  25.1%     -    0s
#&gt; H    0     0                    12658.741688 9488.66317  25.0%     -    0s
#&gt;      0     0 9488.66317    0  465 12658.7417 9488.66317  25.0%     -    0s
#&gt; H    0     0                    11278.322052 9488.66317  15.9%     -    1s
#&gt;      0     2 9489.13316    0  465 11278.3221 9489.13316  15.9%     -    1s
#&gt; H   27    27                    10938.370123 9538.34579  12.8%  61.7    1s
#&gt; H  108    52                    10332.698302 9546.30398  7.61%  50.0    1s
#&gt; 
#&gt; Cutting planes:
#&gt;   Gomory: 6
#&gt;   Zero half: 9
#&gt; 
#&gt; Explored 108 nodes (6428 simplex iterations) in 1.52 seconds
#&gt; Thread count was 1 (of 4 available processors)
#&gt; 
#&gt; Solution count 10: 10332.7 10938.4 11278.3 ... 15601.5
#&gt; 
#&gt; Optimal solution found (tolerance 1.00e-01)
#&gt; Best objective 1.033269830160e+04, best bound 9.546303983599e+03, gap 7.6107%</div><div class='input'>
<span class='co'># plot solutions</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='no'>s2</span>, <span class='kw'>main</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"basic solution"</span>, <span class='st'>"within zone clumping (low)"</span>,
                  <span class='st'>"within zone clumping (high)"</span>, <span class='st'>"between zone clumping"</span>,
                  <span class='st'>"within + between clumping"</span>, <span class='st'>"negative clumping"</span>),
     <span class='kw'>axes</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>box</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='img'><img src='add_boundary_penalties-2.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#references">References</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://jeffrey-hanson.com'>Jeffrey O Hanson</a>, <a href='http://www.richard-schuster.com'>Richard Schuster</a>, Nina Morrell, <a href='http://strimas.com'>Matthew Strimas-Mackey</a>, Matthew E Watts, <a href='https://arcese.forestry.ubc.ca'>Peter Arcese</a>, <a href='https://josephrbennett.wordpress.com'>Joseph Bennett</a>, <a href='http://www.possinghamlab.org'>Hugh P Possingham</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '486efa122ea6783724263412c5f28ab3',
    indexName: 'prioritizr',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>


  </body>
</html>


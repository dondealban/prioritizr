<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Add maximum coverage objective — add_max_cover_objective • prioritizr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Add maximum coverage objective — add_max_cover_objective" />
<meta property="og:description" content="Set the objective of a conservation planning problem to
represent at least one instance of as many features as possible within a
given budget. This type of objective does not use targets, and feature
weights should be used instead to increase the representation of different
features in solutions. Note that the mathematical formulation
underpinning this function is different from versions prior to 3.0.0.0.
See the Details section for more information on the changes since this
version." />
<meta property="og:image" content="https://prioritizr.net/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-70466840-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-70466840-4');
</script>

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">prioritizr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">4.1.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/prioritizr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/gurobi_installation.html">Gurobi Installation Guide</a>
    </li>
    <li>
      <a href="../articles/publication_record.html">Publication Record</a>
    </li>
    <li>
      <a href="../articles/saltspring.html">Salt Spring Island Tutorial</a>
    </li>
    <li>
      <a href="../articles/tasmania.html">Tasmania Tutorial</a>
    </li>
    <li>
      <a href="../articles/zones.html">Management Zones</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/prioritizr/prioritizr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add maximum coverage objective</h1>
    <small class="dont-index">Source: <a href='https://github.com/prioritizr/prioritizr/blob/master/R/add_max_cover_objective.R'><code>R/add_max_cover_objective.R</code></a></small>
    <div class="hidden name"><code>add_max_cover_objective.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Set the objective of a conservation planning <code><a href='problem.html'>problem</a></code> to
represent at least one instance of as many features as possible within a
given budget. This type of objective does not use targets, and feature
weights should be used instead to increase the representation of different
features in solutions. <strong>Note that the mathematical formulation
underpinning this function is different from versions prior to 3.0.0.0</strong>.
See the Details section for more information on the changes since this
version.</p>
    </div>

    <pre class="usage"><span class='fu'>add_max_cover_objective</span>(<span class='no'>x</span>, <span class='no'>budget</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p><code><a href='ConservationProblem-class.html'>ConservationProblem-class</a></code> object.</p></td>
    </tr>
    <tr>
      <th>budget</th>
      <td><p><code>numeric</code> value specifying the maximum expenditure of
the prioritization. For problems with multiple zones, the argument
to <code>budget</code> can be a single <code>numeric</code> value to specify a budget
for the entire solution or a <code>numeric</code> <code>vector</code> to specify
a budget for each each management zone.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code><a href='ConservationProblem-class.html'>ConservationProblem-class</a></code> object with the objective
  added to it.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>A problem objective is used to specify the overall goal of the
  conservation planning problem. Please note that all conservation
  planning problems formulated in the <span class="pkg">prioritizr</span> package require the
  addition of objectives---failing to do so will return an error
  message when attempting to solve problem.</p>
<p>The maximum coverage objective seeks to find the set of planning units that
  maximizes the number of represented features, while keeping cost within a
  fixed budget. Here, features are treated as being represented if
  the reserve system contains at least a single instance of a feature
  (i.e. an amount greater than 1). This formulation has often been
  used in conservation planning problems dealing with binary biodiversity
  data that indicate the presence/absence of suitable habitat
  (e.g. Church &amp; Velle 1974). Additionally, weights can be used to favor the
  representation of certain features over other features (see
  <code><a href='add_feature_weights.html'>add_feature_weights</a></code>). Check out the
  <code><a href='add_max_features_objective.html'>add_max_features_objective</a></code> for a more
  generalized formulation which can accommodate user-specified representation
  targets.</p>
<p>This formulation is based on the historical maximum coverage reserve
  selection formulation (Church &amp; Velle 1974; Church <em>et al.</em> 1996).
  The maximum coverage objective for the reserve design problem can be
  expressed mathematically for a set of planning units (\(I\) indexed by
  \(i\)) and a set of features (\(J\) indexed by \(j\)) as:</p>
<p>$$\mathit{Maximize} \space \sum_{i = 1}^{I} -s \space c_i \space x_i +
  \sum_{j = 1}^{J} y_j w_j \\
  \mathit{subject \space to} \\
  \sum_{i = 1}^{I} x_i r_{ij} \geq y_j \times 1 \forall j \in J \\
  \sum_{i = 1}^{I} x_i c_i \leq B$$</p>
<p>Here, \(x_i\) is the <code><a href='decisions.html'>decisions</a></code> variable (e.g.
  specifying whether planning unit \(i\) has been selected (1) or not
  (0)), \(r_{ij}\) is the amount of feature \(j\) in planning
  unit \(i\), \(y_j\) indicates if the solution has meet
  the target \(t_j\) for feature \(j\), and \(w_j\) is the
  weight for feature \(j\) (defaults to 1 for all features; see
  <code><a href='add_feature_weights.html'>add_feature_weights</a></code> to specify weights). Additionally,
  \(B\) is the budget allocated for the solution, \(c_i\) is the
  cost of planning unit \(i\), and \(s\) is a scaling factor used
  to shrink the costs so that the problem will return a cheapest solution
  when there are multiple solutions that represent the same amount of all
  features within the budget.</p>
<p>Note that this formulation is functionally equivalent to the
  <code><a href='add_max_features_objective.html'>add_max_features_objective</a></code> function with absolute targets
  set to 1. Please note that in versions prior to 3.0.0.0, this objective
  function implemented a different mathematical formulation. To
  the <code><a href='add_max_utility_objective.html'>add_max_utility_objective</a></code> function.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Church RL and Velle CR (1974) The maximum covering location problem.
<em>Regional Science</em>, 32: 101--118.</p>
<p>Church RL, Stoms DM, and Davis FW (1996) Reserve selection as a maximum
covering location problem. <em>Biological Conservation</em>, 76: 105--112.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='add_feature_weights.html'>add_feature_weights</a></code>, <code><a href='objectives.html'>objectives</a></code>.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># load data</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/data'>data</a></span>(<span class='no'>sim_pu_raster</span>, <span class='no'>sim_pu_zones_stack</span>, <span class='no'>sim_features</span>, <span class='no'>sim_features_zones</span>)

<span class='co'># threshold the feature data to generate binary biodiversity data</span>
<span class='no'>sim_binary_features</span> <span class='kw'>&lt;-</span> <span class='no'>sim_features</span>
<span class='no'>thresholds</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>raster</span><span class='kw ns'>::</span><span class='fu'><a href='https://www.rdocumentation.org/packages/raster/topics/quantile'>quantile</a></span>(<span class='no'>sim_features</span>, <span class='kw'>probs</span> <span class='kw'>=</span> <span class='fl'>0.95</span>, <span class='kw'>names</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
                               <span class='kw'>na.rm</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='kw'>for</span> (<span class='no'>i</span> <span class='kw'>in</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/seq'>seq_len</a></span>(<span class='kw pkg'>raster</span><span class='kw ns'>::</span><span class='fu'><a href='https://www.rdocumentation.org/packages/raster/topics/nlayers'>nlayers</a></span>(<span class='no'>sim_features</span>)))
  <span class='no'>sim_binary_features</span><span class='kw'>[[</span><span class='no'>i</span>]] <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/numeric'>as.numeric</a></span>(<span class='kw pkg'>raster</span><span class='kw ns'>::</span><span class='fu'><a href='https://www.rdocumentation.org/packages/raster/topics/getValues'>values</a></span>(<span class='no'>sim_features</span><span class='kw'>[[</span><span class='no'>i</span>]]) <span class='kw'>&gt;</span>
                                         <span class='no'>thresholds</span><span class='kw'>[[</span><span class='no'>i</span>]])

<span class='co'># create problem with maximum utility objective</span>
<span class='no'>p1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='problem.html'>problem</a></span>(<span class='no'>sim_pu_raster</span>, <span class='no'>sim_binary_features</span>) <span class='kw'>%&gt;%</span>
      <span class='fu'>add_max_cover_objective</span>(<span class='fl'>500</span>) <span class='kw'>%&gt;%</span>
      <span class='fu'><a href='add_binary_decisions.html'>add_binary_decisions</a></span>()</div><div class='input'><span class='co'># solve problem</span>
<span class='no'>s1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='solve.html'>solve</a></span>(<span class='no'>p1</span>)</div><div class='output co'>#&gt; Optimize a model with 6 rows, 95 columns and 120 nonzeros
#&gt; Variable types: 0 continuous, 95 integer (95 binary)
#&gt; Coefficient statistics:
#&gt;   Matrix range     [1e+00, 2e+02]
#&gt;   Objective range  [1e-04, 1e+00]
#&gt;   Bounds range     [1e+00, 1e+00]
#&gt;   RHS range        [5e+02, 5e+02]
#&gt; Found heuristic solution: objective -0.0000000
#&gt; Presolve removed 5 rows and 90 columns
#&gt; Presolve time: 0.00s
#&gt; Presolved: 1 rows, 5 columns, 5 nonzeros
#&gt; Variable types: 0 continuous, 5 integer (5 binary)
#&gt; Presolved: 1 rows, 5 columns, 5 nonzeros
#&gt; 
#&gt; 
#&gt; Root relaxation: objective 1.999790e+00, 1 iterations, 0.00 seconds
#&gt; 
#&gt;     Nodes    |    Current Node    |     Objective Bounds      |     Work
#&gt;  Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time
#&gt; 
#&gt; *    0     0               0       1.9997896    1.99979  0.00%     -    0s
#&gt; 
#&gt; Explored 0 nodes (1 simplex iterations) in 0.00 seconds
#&gt; Thread count was 1 (of 4 available processors)
#&gt; 
#&gt; Solution count 2: 1.99979 -0 
#&gt; 
#&gt; Optimal solution found (tolerance 1.00e-01)
#&gt; Best objective 1.999789559459e+00, best bound 1.999789559459e+00, gap 0.0000%</div><div class='input'>
<span class='co'># plot solution</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='no'>s1</span>, <span class='kw'>main</span> <span class='kw'>=</span> <span class='st'>"solution"</span>, <span class='kw'>axes</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>box</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='img'><img src='add_max_cover_objective-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># threshold the multi-zone feature data to generate binary biodiversity data</span>
<span class='no'>sim_binary_features_zones</span> <span class='kw'>&lt;-</span> <span class='no'>sim_features_zones</span>
<span class='kw'>for</span> (<span class='no'>z</span> <span class='kw'>in</span> <span class='fu'><a href='number_of_zones.html'>number_of_zones</a></span>(<span class='no'>sim_features_zones</span>)) {
  <span class='no'>thresholds</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>raster</span><span class='kw ns'>::</span><span class='fu'><a href='https://www.rdocumentation.org/packages/raster/topics/quantile'>quantile</a></span>(<span class='no'>sim_features_zones</span><span class='kw'>[[</span><span class='no'>z</span>]], <span class='kw'>probs</span> <span class='kw'>=</span> <span class='fl'>0.95</span>,
                                 <span class='kw'>names</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>na.rm</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
  <span class='kw'>for</span> (<span class='no'>i</span> <span class='kw'>in</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/seq'>seq_len</a></span>(<span class='fu'><a href='number_of_features.html'>number_of_features</a></span>(<span class='no'>sim_features_zones</span>))) {
    <span class='no'>sim_binary_features_zones</span><span class='kw'>[[</span><span class='no'>z</span>]]<span class='kw'>[[</span><span class='no'>i</span>]] <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/numeric'>as.numeric</a></span>(
      <span class='kw pkg'>raster</span><span class='kw ns'>::</span><span class='fu'><a href='https://www.rdocumentation.org/packages/raster/topics/getValues'>values</a></span>(<span class='no'>sim_features_zones</span><span class='kw'>[[</span><span class='no'>z</span>]]<span class='kw'>[[</span><span class='no'>i</span>]]) <span class='kw'>&gt;</span> <span class='no'>thresholds</span><span class='kw'>[[</span><span class='no'>i</span>]])
  }
}

<span class='co'># create multi-zone problem with maximum utility objective that</span>
<span class='co'># has a single budget for all zones</span>
<span class='no'>p2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='problem.html'>problem</a></span>(<span class='no'>sim_pu_zones_stack</span>, <span class='no'>sim_binary_features_zones</span>) <span class='kw'>%&gt;%</span>
      <span class='fu'>add_max_cover_objective</span>(<span class='fl'>800</span>) <span class='kw'>%&gt;%</span>
      <span class='fu'><a href='add_binary_decisions.html'>add_binary_decisions</a></span>()</div><div class='input'><span class='co'># solve problem</span>
<span class='no'>s2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='solve.html'>solve</a></span>(<span class='no'>p2</span>)</div><div class='output co'>#&gt; Optimize a model with 106 rows, 285 columns and 1478 nonzeros
#&gt; Variable types: 0 continuous, 285 integer (285 binary)
#&gt; Coefficient statistics:
#&gt;   Matrix range     [2e-01, 2e+02]
#&gt;   Objective range  [3e-05, 1e+00]
#&gt;   Bounds range     [1e+00, 1e+00]
#&gt;   RHS range        [1e+00, 8e+02]
#&gt; Found heuristic solution: objective -0.0000000
#&gt; Presolve removed 0 rows and 67 columns
#&gt; Presolve time: 0.00s
#&gt; Presolved: 106 rows, 218 columns, 1344 nonzeros
#&gt; Variable types: 0 continuous, 218 integer (218 binary)
#&gt; Presolved: 106 rows, 218 columns, 1344 nonzeros
#&gt; 
#&gt; 
#&gt; Root relaxation: objective 9.471221e+00, 29 iterations, 0.00 seconds
#&gt; 
#&gt;     Nodes    |    Current Node    |     Objective Bounds      |     Work
#&gt;  Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time
#&gt; 
#&gt;      0     0    9.47122    0   11   -0.00000    9.47122      -     -    0s
#&gt; H    0     0                       5.9998641    9.47122  57.9%     -    0s
#&gt; H    0     0                       6.9998616    9.47122  35.3%     -    0s
#&gt;      0     0    9.46244    0   12    6.99986    9.46244  35.2%     -    0s
#&gt;      0     0    9.44779    0   11    6.99986    9.44779  35.0%     -    0s
#&gt;      0     0    9.22110    0   11    6.99986    9.22110  31.7%     -    0s
#&gt; H    0     0                       7.9998572    9.22110  15.3%     -    0s
#&gt;      0     0    9.21941    0   10    7.99986    9.21941  15.2%     -    0s
#&gt;      0     0    9.21099    0   10    7.99986    9.21099  15.1%     -    0s
#&gt;      0     0    9.20750    0   13    7.99986    9.20750  15.1%     -    0s
#&gt;      0     0    9.20646    0   14    7.99986    9.20646  15.1%     -    0s
#&gt;      0     0    9.19887    0   13    7.99986    9.19887  15.0%     -    0s
#&gt;      0     0    9.19795    0   12    7.99986    9.19795  15.0%     -    0s
#&gt;      0     0    9.19636    0   12    7.99986    9.19636  15.0%     -    0s
#&gt;      0     0    9.19632    0   13    7.99986    9.19632  15.0%     -    0s
#&gt;      0     0    9.19300    0   14    7.99986    9.19300  14.9%     -    0s
#&gt;      0     0    9.19031    0   17    7.99986    9.19031  14.9%     -    0s
#&gt;      0     0    9.18573    0   15    7.99986    9.18573  14.8%     -    0s
#&gt;      0     0    9.18570    0   16    7.99986    9.18570  14.8%     -    0s
#&gt;      0     0    9.16782    0   15    7.99986    9.16782  14.6%     -    0s
#&gt;      0     0    9.16558    0   16    7.99986    9.16558  14.6%     -    0s
#&gt;      0     0    9.15341    0   17    7.99986    9.15341  14.4%     -    0s
#&gt;      0     0    9.15305    0   18    7.99986    9.15305  14.4%     -    0s
#&gt;      0     0    9.15027    0   14    7.99986    9.15027  14.4%     -    0s
#&gt;      0     0    9.14971    0   15    7.99986    9.14971  14.4%     -    0s
#&gt;      0     0    9.14922    0   16    7.99986    9.14922  14.4%     -    0s
#&gt;      0     0    9.14884    0   14    7.99986    9.14884  14.4%     -    0s
#&gt;      0     0    9.14293    0   16    7.99986    9.14293  14.3%     -    0s
#&gt;      0     0    9.14270    0   17    7.99986    9.14270  14.3%     -    0s
#&gt;      0     0    9.12731    0   12    7.99986    9.12731  14.1%     -    0s
#&gt;      0     0    9.12669    0   13    7.99986    9.12669  14.1%     -    0s
#&gt;      0     0    9.12449    0   13    7.99986    9.12449  14.1%     -    0s
#&gt;      0     0    9.12437    0   14    7.99986    9.12437  14.1%     -    0s
#&gt;      0     0    9.11853    0   17    7.99986    9.11853  14.0%     -    0s
#&gt;      0     0    9.09748    0   12    7.99986    9.09748  13.7%     -    0s
#&gt;      0     0    9.09710    0   15    7.99986    9.09710  13.7%     -    0s
#&gt;      0     0    8.94560    0   15    7.99986    8.94560  11.8%     -    0s
#&gt;      0     0    8.93949    0   16    7.99986    8.93949  11.7%     -    0s
#&gt;      0     0    8.92501    0   17    7.99986    8.92501  11.6%     -    0s
#&gt;      0     0    8.92371    0   19    7.99986    8.92371  11.5%     -    0s
#&gt;      0     0    8.92324    0   18    7.99986    8.92324  11.5%     -    0s
#&gt;      0     0    8.91598    0   19    7.99986    8.91598  11.5%     -    0s
#&gt;      0     0    8.91200    0   20    7.99986    8.91200  11.4%     -    0s
#&gt;      0     0    8.90474    0   20    7.99986    8.90474  11.3%     -    0s
#&gt;      0     0    8.89779    0   20    7.99986    8.89779  11.2%     -    0s
#&gt;      0     0    8.35877    0   11    7.99986    8.35877  4.49%     -    0s
#&gt; 
#&gt; Cutting planes:
#&gt;   Gomory: 1
#&gt;   Cover: 5
#&gt;   MIR: 14
#&gt;   StrongCG: 2
#&gt; 
#&gt; Explored 1 nodes (325 simplex iterations) in 0.08 seconds
#&gt; Thread count was 1 (of 4 available processors)
#&gt; 
#&gt; Solution count 4: 7.99986 6.99986 5.99986 -0 
#&gt; 
#&gt; Optimal solution found (tolerance 1.00e-01)
#&gt; Best objective 7.999857206152e+00, best bound 8.358770248057e+00, gap 4.4865%</div><div class='input'>
<span class='co'># plot solution</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='fu'><a href='category_layer.html'>category_layer</a></span>(<span class='no'>s2</span>), <span class='kw'>main</span> <span class='kw'>=</span> <span class='st'>"solution"</span>, <span class='kw'>axes</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>box</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='img'><img src='add_max_cover_objective-2.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># create multi-zone problem with maximum utility objective that</span>
<span class='co'># has separate budgets for each zone</span>
<span class='no'>p3</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='problem.html'>problem</a></span>(<span class='no'>sim_pu_zones_stack</span>, <span class='no'>sim_binary_features_zones</span>) <span class='kw'>%&gt;%</span>
      <span class='fu'>add_max_cover_objective</span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>400</span>, <span class='fl'>400</span>, <span class='fl'>400</span>)) <span class='kw'>%&gt;%</span>
      <span class='fu'><a href='add_binary_decisions.html'>add_binary_decisions</a></span>()</div><div class='input'><span class='co'># solve problem</span>
<span class='no'>s3</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='solve.html'>solve</a></span>(<span class='no'>p3</span>)</div><div class='output co'>#&gt; Optimize a model with 108 rows, 285 columns and 1478 nonzeros
#&gt; Variable types: 0 continuous, 285 integer (285 binary)
#&gt; Coefficient statistics:
#&gt;   Matrix range     [2e-01, 2e+02]
#&gt;   Objective range  [3e-05, 1e+00]
#&gt;   Bounds range     [1e+00, 1e+00]
#&gt;   RHS range        [1e+00, 4e+02]
#&gt; Found heuristic solution: objective -0.0000000
#&gt; Presolve removed 3 rows and 74 columns
#&gt; Presolve time: 0.01s
#&gt; Presolved: 105 rows, 211 columns, 1026 nonzeros
#&gt; Variable types: 0 continuous, 211 integer (211 binary)
#&gt; Presolve removed 18 rows and 26 columns
#&gt; Presolved: 87 rows, 185 columns, 956 nonzeros
#&gt; 
#&gt; 
#&gt; Root relaxation: objective 8.997455e+00, 14 iterations, 0.00 seconds
#&gt; 
#&gt;     Nodes    |    Current Node    |     Objective Bounds      |     Work
#&gt;  Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time
#&gt; 
#&gt;      0     0    8.99746    0    5   -0.00000    8.99746      -     -    0s
#&gt; H    0     0                       6.9998278    8.99746  28.5%     -    0s
#&gt; H    0     0                       7.9998255    8.99746  12.5%     -    0s
#&gt;      0     0     cutoff    0         7.99983    7.99983  0.00%     -    0s
#&gt; 
#&gt; Cutting planes:
#&gt;   Gomory: 3
#&gt;   Cover: 4
#&gt;   Clique: 1
#&gt; 
#&gt; Explored 1 nodes (35 simplex iterations) in 0.01 seconds
#&gt; Thread count was 1 (of 4 available processors)
#&gt; 
#&gt; Solution count 3: 7.99983 6.99983 -0 
#&gt; 
#&gt; Optimal solution found (tolerance 1.00e-01)
#&gt; Best objective 7.999825481935e+00, best bound 7.999825481935e+00, gap 0.0000%</div><div class='input'>
<span class='co'># plot solution</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='fu'><a href='category_layer.html'>category_layer</a></span>(<span class='no'>s3</span>), <span class='kw'>main</span> <span class='kw'>=</span> <span class='st'>"solution"</span>, <span class='kw'>axes</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>box</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='img'><img src='add_max_cover_objective-3.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#references">References</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://jeffrey-hanson.com'>Jeffrey O Hanson</a>, <a href='http://www.richard-schuster.com'>Richard Schuster</a>, Nina Morrell, <a href='http://strimas.com'>Matthew Strimas-Mackey</a>, Matthew E Watts, <a href='https://arcese.forestry.ubc.ca'>Peter Arcese</a>, <a href='https://josephrbennett.wordpress.com'>Joseph Bennett</a>, <a href='http://www.possinghamlab.org'>Hugh P Possingham</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '486efa122ea6783724263412c5f28ab3',
    indexName: 'prioritizr',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>


  </body>
</html>

